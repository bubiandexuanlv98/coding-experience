# 逃逸分析

## 什么是逃逸分析

就是分析变量是应该在栈上分配还是堆上分配。不能在栈上分配的变量，叫逃逸的变量

## 为什么要逃逸分析

1. go消除了堆和栈的区别，通过在编译的时候进行逃逸分析，来决定一个对象放栈上还是放堆上，不逃逸的对象放栈上，可能逃逸的放堆上
2. 如果分配到栈上，待函数返回资源就被回收了。如果分配到堆上，需要通过gc来管理该对象资源，gc很显然远比栈资源回收消耗资源，所以逃逸分析最大的好处就是减少了gc的压力

## 逃逸类型

几种典型的逃逸场景：<https://juejin.cn/post/6931706704010838024>

